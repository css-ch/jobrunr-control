# =============================================================================
# HTTP Configuration
# https://quarkus.io/guides/http-reference
# =============================================================================
# Increased to handle large form submissions with multiple job parameters (default: 2KB)
quarkus.http.limits.max-form-attribute-size=10M
quarkus.http.port=9090
# =============================================================================
# JobRunr Configuration
# https://www.jobrunr.io/en/documentation/configuration/quarkus/
# =============================================================================
quarkus.jobrunr.background-job-server.enabled=true
quarkus.jobrunr.background-job-server.worker-count=20
quarkus.jobrunr.job-scheduler.enabled=true
quarkus.jobrunr.jobs.metrics.enabled=true
quarkus.jobrunr.jobs.metrics.micrometer-timers.enabled=true
# =============================================================================
# JobRunr Dashboard
# type: 'embedded' (same port) | 'standalone' (separate port, default 8000)
# =============================================================================
quarkus.jobrunr.dashboard.enabled=true
quarkus.jobrunr.dashboard.type=embedded
quarkus.jobrunr.dashboard.context-path=/q/jobrunr
# =============================================================================
# Database Configuration
# https://quarkus.io/guides/datasource
# =============================================================================
# --- Dev: H2 in-memory (default, no setup required) ---
# The INIT script creates the jobrunr_control_parameter_sets table automatically.
# NOTE: H2 must run in standard mode (not Oracle mode) because JobRunr generates H2-specific SQL.
%dev.quarkus.datasource.db-kind=h2
%dev.quarkus.datasource.username=sa
%dev.quarkus.datasource.password=
%dev.quarkus.datasource.jdbc.url=jdbc:h2:mem:devdb;DB_CLOSE_DELAY=-1;INIT=RUNSCRIPT FROM 'classpath:db/h2.sql'
%dev.quarkus.datasource.jdbc.max-size=16
# --- PostgreSQL profile ---
# Activate with: ./mvnw quarkus:dev -Dquarkus.profile=dev,postgres
# Run ./start-postgres.sh first to start PostgreSQL and create the required table.
%postgres.quarkus.datasource.db-kind=postgresql
%postgres.quarkus.datasource.username=postgres
%postgres.quarkus.datasource.password=your_strong_password
%postgres.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/postgres
%postgres.quarkus.datasource.jdbc.max-size=16
# --- Oracle profile ---
# Activate with: ./mvnw quarkus:dev -Dquarkus.profile=dev,oracle
# Run ./start-oracle.sh first to start Oracle and create the required table.
%oracle.quarkus.datasource.db-kind=oracle
%oracle.quarkus.datasource.username=system
%oracle.quarkus.datasource.password=YourStrongPassword123
%oracle.quarkus.datasource.jdbc.url=jdbc:oracle:thin:@localhost:1521/FREEPDB1
%oracle.quarkus.datasource.jdbc.max-size=16
# --- Production ---
# Configure via environment variables at runtime. Example:
#   QUARKUS_DATASOURCE_DB_KIND=postgresql
#   QUARKUS_DATASOURCE_USERNAME=prod_user
#   QUARKUS_DATASOURCE_PASSWORD=prod_password
#   QUARKUS_DATASOURCE_JDBC_URL=jdbc:postgresql://prod-server:5432/jobrunr_db
# Dummy build-time values below are overridden at runtime.
%prod.quarkus.datasource.db-kind=postgresql
%prod.quarkus.datasource.jdbc.url=jdbc:postgresql://localhost:5432/postgres
# =============================================================================
# Hibernate ORM Configuration (only needed with @JobParameterSet external storage)
# https://quarkus.io/guides/hibernate-orm
# Add quarkus-hibernate-orm to your pom.xml and configure:
#   quarkus.hibernate-orm.schema-management.strategy=none
# Schema must be created manually ? see SQL scripts in docs/sql/.
# =============================================================================
# =============================================================================
# Logging Configuration
# https://quarkus.io/guides/logging
# =============================================================================
quarkus.log.category."ch.css.jobrunr".level=INFO
quarkus.log.category."org.jobrunr".level=INFO
# =============================================================================
# OpenAPI / Swagger UI
# =============================================================================
mp.openapi.extensions.smallrye.info.title=JobRunr Control API
mp.openapi.extensions.smallrye.info.version=1.0.0
mp.openapi.extensions.smallrye.info.description=REST API for JobRunr Pro Scheduler Extension
mp.openapi.extensions.smallrye.info.contact.name=JobRunr Control Team
# =============================================================================
# Development Profile Settings
# =============================================================================
# Roles automatically granted in dev mode (all roles for easy local testing)
dev.test.roles=admin
