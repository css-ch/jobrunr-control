# =============================================================================
# Test Database Configuration
# H2 in-memory database for fast integration tests.
# MODE=PostgreSQL ensures SQL compatibility with production queries.
# The INIT script creates the jobrunr_control_parameter_sets table automatically.
# =============================================================================
quarkus.datasource.db-kind=h2
quarkus.datasource.username=sa
quarkus.datasource.password=
quarkus.datasource.jdbc.url=jdbc:h2:mem:test;DB_CLOSE_DELAY=-1;MODE=PostgreSQL;INIT=RUNSCRIPT FROM 'classpath:db/h2.sql'
# =============================================================================
# Test Security Configuration
# OIDC is disabled in tests. JobRunrControlRoleAugmentor automatically grants
# all roles to requests when OIDC is disabled, so no external auth server is needed.
# =============================================================================
quarkus.oidc.enabled=false
# =============================================================================
# JobRunr Configuration
# =============================================================================
quarkus.jobrunr.background-job-server.enabled=true
quarkus.jobrunr.background-job-server.worker-count=10
quarkus.jobrunr.job-scheduler.enabled=true
quarkus.jobrunr.jobs.metrics.enabled=true
quarkus.jobrunr.jobs.metrics.micrometer-timers.enabled=true
# =============================================================================
# JobRunr Dashboard
# Custom context path to verify path configuration works in tests.
# =============================================================================
quarkus.jobrunr.dashboard.enabled=true
quarkus.jobrunr.dashboard.type=embedded
quarkus.jobrunr.dashboard.context-path=/my-custom-dashboard
